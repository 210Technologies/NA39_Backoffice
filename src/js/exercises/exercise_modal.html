<div class="modal-header">
    <button type="button" class="close" ng-click="$ctrl.modalInstance.close($ctrl._exercise)">&times;</button>
    <h4 class="modal-title">{{$ctrl._exercise.title}}</h4>
</div>


<div class="modal-body" ng-show="$ctrl._showEdit == false">
    <div class="content-box">
        <div class="content-box-wrapper bg-gray">{{$ctrl._exercise.description}}</div>
    </div>
    <div nb-click="$ctrl.edit">
        <video style="width: 100%;height: 400px;" controls>
          <source ng-src="{{$ctrl._exercise.src.url}}" type="video/mp4">
          <source ng-src="{{$ctrl._exercise.src.url}}" type="video/quicktime">
          Your browser does not support HTML5 video.
        </video>
    </div>
</div>



<div class="modal-body" ng-show="$ctrl._showEdit == true">
    <h3 class="title-hero">
        Edit exercise
    </h3>
    <div class="row" ng-show="$ctrl._load == true">
        <div class="remove-border glyph-icon demo-icon tooltip-button icon-spin-6 icon-spin" style= "margin: 10px auto;color:#39d2b4"></div>
    </div>
    <form class="form-horizontal bordered-row" ng-show="$ctrl._load != true">
        <div class="form-group">
            <label class="col-sm-2 control-label">Title</label>
            <div class="col-sm-8 ">
                <input type="text" class="form-control" id="" placeholder="Titre" ng-model="$ctrl._exercise.title">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Description</label>
            <div class="col-sm-8">
                <textarea name="" id="" class="form-control" ng-model="$ctrl._exercise.description"></textarea>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">Status</label>
            <div class="col-sm-6">
                <label class="radio-inline">
                    <input type="radio" id=""  value="online" ng-model="$ctrl._exercise.status">
                    Online
                </label>
                <label class="radio-inline">
                    <input type="radio" id=""  value="offline" ng-model="$ctrl._exercise.status">
                    Offline
                </label>
            </div>
        </div>

        <div class="form-group">
            <div class="col-xs-10 col-xs-offset-1">
                <div class="img-modal" ng-hide="$ctrl._src_uploader.queue[0]" >
                    <div class="js input-file-container">
                        <input class="input-file" type="file" uploader="$ctrl._src_uploader" nv-file-select></input>
                        <label class="input-file-trigger" for="my-file{{$index + 1 %> %>" tabindex="0">
                          Choose video...
                        </label>
                    </div>

                </div>

                <div class="content-box" ng-show="$ctrl._src_uploader.queue[0]">
                    <div class="content-box-wrapper">
                        Name: <span ng-bind="$ctrl._src_uploader.queue[0].file.name"></span>
                        <div class="progressbar" data-value="{{$ctrl._src_uploader.queue[0].progress}}">
                            <div ng-class=" {'progressbar-value bg-blue': $ctrl._src_uploader.queue[0].progress < 100, 'progressbar-value bg-green': $ctrl._src_uploader.queue[0].progress == 100}" style="width: {{$ctrl._src_uploader.queue[0].progress}}%">
                                <div class="progress-label">{{$ctrl._src_uploader.queue[0].progress}}%</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="font-size: 10px; color: #C4C4C4">Uniquement des vid√©os au format MP4.</div>
                
            </div>
            
        </div>


        <div class="form-group">
            <div class="col-xs-10 col-xs-offset-1">
            <div class="img-modal" ng-hide="$ctrl._src_uploader.queue[1]" >
              <div class="js input-file-container">
                <input class="input-file" type="file" uploader="$ctrl._src_uploader" nv-file-select></input>
                <label class="input-file-trigger" for="my-file{{$index + 1 %> %>" tabindex="0">
                  Choose cover...
                </label>
              </div>
            </div>
            <div class="content-box" ng-show="$ctrl._src_uploader.queue[1]">
                <div class="content-box-wrapper">
                    Name: <span ng-bind="$ctrl._src_uploader.queue[1].file.name"></span>
                    <div class="progressbar" data-value="{{$ctrl._src_uploader.queue[1].progress}}">
                        <div ng-class=" {'progressbar-value bg-blue': $ctrl._src_uploader.queue[1].progress < 100, 'progressbar-value bg-green': $ctrl._src_uploader.queue[1].progress == 100}" style="width: {{$ctrl._src_uploader.queue[1].progress}}%">
                            <div class="progress-label">{{$ctrl._src_uploader.queue[1].progress}}%</div>
                        </div>
                    </div>
                </div>

                <!-- <div class="button-pane">
                    <button ng-click="$ctrl.uploadCover($ctrl._src_uploader.queue[1])" class="btn btn-success">
                        <div class=" icon-typicons-export"> </div>
                        Upload
                    </button>
                    <button ng-click="$ctrl._src_uploader.queue[1].cancel()" class="btn btn-warning" title="Stop">
                        <div class=" icon-typicons-block"> </div>
                        Stop
                    </button>
                    <button ng-click="$ctrl._src_uploader.queue[1].remove()" class="btn btn-danger" title="Supprimer">
                        <div class=" icon-typicons-cancel"> </div>
                        Cancel
                    </button>

                </div> -->
            </div>
        </div>
        </div>
    </form>
</div>


<div class="modal-footer" ng-show="$ctrl._showEdit == false && $ctrl._load == false">
    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.edit()">
        <div class=" icon-linecons-pencil"> </div>
        <!-- <i class="fa fa-edit"></i>  -->
    </button>
    <button type="button" class="btn btn-primary" ng-click="$ctrl.modalInstance.close($ctrl._exercise)">Close</button>
</div>

<div class="modal-footer" ng-show="$ctrl._showEdit == true && $ctrl._load == false">
    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$ctrl.cancelEdit()">
        <div class=" icon-typicons-cancel-outline"> </div>
        Cancel
    </button>
    <button type="button" class="btn btn-danger" ng-click="$ctrl.deleteExercise()">Delete</button>
    <button type="button" class="btn btn-primary" ng-click="$ctrl.saveExercise()">Save</button>
</div>